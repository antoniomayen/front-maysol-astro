---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/layout/Navbar.astro';
import HeroSection from '../components/sections/HeroSection.astro';
import CategoriesSection from '../components/sections/CategoriesSection.astro';
import ProductsSection from '../components/sections/ProductsSection.astro';
import WhatsAppModal from '../components/ui/WhatsAppModal.astro';
import FloatingWhatsAppButton from '../components/ui/FloatingWhatsAppButton.astro';

export const prerender = false; // Change to false to fetch products
---

<Layout title="Inicio">
  <main class="relative">
    <HeroSection />
    <Navbar />
    
    <!-- Categories Section -->
    <CategoriesSection /> 
    
    <!-- Featured Products Section -->
    <ProductsSection />
    
    <!-- Services Section -->
    <div class="w-full bg-white">
      <section id="servicios" class="py-16 max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8">
        <h2 class="text-3xl font-bold text-center mb-12">Nuestros Servicios</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <div class="card bg-white shadow-xl border border-gray-200">
            <div class="card-body">
              <h3 class="card-title text-primary">Producción Avícola</h3>
              <p>Gallinas ponedoras, pollos de engorde y huevos de la más alta calidad.</p>
            </div>
          </div>
          <div class="card bg-white shadow-xl border border-gray-200">
            <div class="card-body">
              <h3 class="card-title text-primary">Producción Porcina</h3>
              <p>Cerdos lechones seleccionados con los mejores estándares de crianza.</p>
            </div>
          </div>
          <div class="card bg-white shadow-xl border border-gray-200">
            <div class="card-body">
              <h3 class="card-title text-primary">Asesoría Técnica</h3>
              <p>Acompañamiento profesional para optimizar tu producción.</p>
            </div>
          </div>
        </div>
      </section>
    </div>
    
    <!-- Contact Section -->
    <div class="w-full bg-gray-50">
      <section id="contacto" class="py-16 max-w-[1600px] mx-auto px-4 sm:px-6 lg:px-8 text-center">
        <h2 class="text-3xl font-bold mb-8 text-dark">¿Listo para mejorar tu producción?</h2>
        <p class="text-xl mb-8 text-muted">Contáctanos hoy mismo y recibe asesoría personalizada</p>
        <button id="contact-whatsapp" class="bg-[#25d366] hover:bg-[#20bf55] text-white py-3 px-8 text-lg rounded-full font-bold transition-all duration-300 hover:transform hover:-translate-y-1">
          Contactar Ahora
        </button>
      </section>
    </div>
  </main>
  
  <!-- WhatsApp Components -->
  <WhatsAppModal />
  <FloatingWhatsAppButton />
  
  <script>
    // Additional trigger for contact section
    document.getElementById('contact-whatsapp')?.addEventListener('click', () => {
      const modal = document.getElementById('whatsapp-modal') as HTMLDialogElement;
      if (modal) {
        modal.showModal();
        document.body.style.overflow = 'hidden';
      }
    });
  </script>
</Layout>
